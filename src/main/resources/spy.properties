# ===== P6Spy SQL Monitoring Configuration =====
# File location: src/main/resources/spy.properties
# Used to monitor and log SQL queries

# Real database driver
realdriver=oracle.jdbc.OracleDriver

# Log message format
logMessageFormat=com.p6spy.engine.spy.appender.CustomLineFormat
customLogMessageFormat=%(currentTime) | %(executionTime) ms | %(category) | connection%(connectionId) | %(sql)

# Log appender - use SLF4J to integrate with Spring Boot logging
appender=com.p6spy.engine.spy.appender.Slf4JLogger

# Filters
filter=false
include=
exclude=

# Execution threshold - only log SQL queries exceeding this time
executionThreshold=100

# Date format
dateformat=yyyy-MM-dd HH:mm:ss.SSS

# Enabled Spy modules
modulelist=com.p6spy.engine.spy.P6SpyFactory,com.p6spy.engine.logging.P6LogFactory,com.p6spy.engine.outage.P6OutageFactory

# Log file (disabled, mainly use SLF4J)
logfile=spy.log
append=true

# Exclude log categories
excludecategories=info,debug,result,batch

# Outage detection - detect long-running queries
outagedetection=true
outagedetectioninterval=30000

# Batch operation logging
logbatch=true

# Query result logging
showresults=false

# SQL parameter logging
logparameters=true

# Driver list
driverlist=oracle.jdbc.OracleDriver

# Remove line breaks from SQL
removelinebreaks=true

# Remove extra spaces
removespace=true